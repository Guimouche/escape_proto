<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Cristal Synchronisé - Prototype Image</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f0f0f0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }

    /* ----- Cadre sous forme d'image de fond ----- */
    #container {
        width: 900px;              /* ← modifie ici si ton image a une autre taille */
        height: 1400px;
        border: 3px solid #333;
        position: relative;

        background-image: url("foret.png");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    }

    /* ----- Le point remplacé par une image ----- */
    #dot {
        width: 100px;   /* ← change la taille de la tête ici */
        height: 80px;
        position: absolute;
        cursor: pointer;
        user-select: none;
        pointer-events: auto;
    }

    #message {
        margin-top: 40px;
        text-align: center;
        font-size: 80px;
        font-weight: bold;
        color: green;
    }
</style>
</head>

<body>

<div>
    <div id="container">
        <img id="dot" src="chat.gif" alt="cible">
    </div>
    <div id="message"></div>
</div>

<script>
    // -------------------------------------------
    //        PARAMÈTRES (à modifier facilement)
    // -------------------------------------------
    let speed = 8;  // vitesse du mouvement (modifie ici)

    const container = document.getElementById("container");
    const dot = document.getElementById("dot");
    const message = document.getElementById("message");

    const containerWidth = container.clientWidth;
    const containerHeight = container.clientHeight;

    const dotSize = dot.clientWidth;  // récupère automatiquement la taille de l'image

    // Position de départ : centre du cadre
    let x = (containerWidth - dotSize) / 2;
    let y = (containerHeight - dotSize) / 2;

    // Direction initiale aléatoire
    const angle = Math.random() * Math.PI * 2;
    let dx = Math.cos(angle) * speed;
    let dy = Math.sin(angle) * speed;

    // ---- Animation principale ----
    function animate() {
        x += dx;
        y += dy;

        // Rebonds
        if (x <= 0 || x >= containerWidth - dotSize) dx = -dx;
        if (y <= 0 || y >= containerHeight - dotSize) dy = -dy;

        dot.style.left = x + "px";
        dot.style.top = y + "px";

        requestAnimationFrame(animate);
    }

    // ---- Clic sur la cible ----
    dot.addEventListener("pointerdown", () => {
    message.textContent = "gagné";
});

    animate();
</script>

</body>
</html>
